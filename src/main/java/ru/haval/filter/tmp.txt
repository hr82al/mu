import java.util.HashMap;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

String query = "SELECT hap.id,  hap.PM_Num, hap.Type, hap.Description, hap.Due_Date, hap.Equipment, hap.Instruction, hap.Otv_For_Task, hap.Otv, hap.Tsk_maker, hap.flag_otv, hap.flag_oft, hap.flag_tm, hap.Icon, hap.Icon_AT,  hap.user_id,  hmp.Icon,  hat.Icon,  hmp.Description,  hat.Description FROM hmmr_action_plan hap INNER JOIN hmmr_mu_prior hmp ON hap.icon =  hmp.ID_TSK INNER JOIN hmmr_activity_type hat ON hap.Icon_AT = hat.Name INNER JOIN hmmr_order_type hot ON hot.id = hat.ID_OT AND hap.Type = hot.Name WHERE hap.Equipment LIKE  '%ARM_IP%' AND hap.date LIKE  '23';";
Map m = new HashMap<String, String>();

Matcher getMatcherByMark(String mark) {
    Pattern pattern = Pattern.compile("(\\S+?) " + mark + "  '(.*?)'");
    Matcher matcher = pattern.matcher(query);
    return matcher;
}

//get vars
Matcher matcher = p

while (matcher.find()) {
    m.put(matcher.group(1), matcher.group(2));
    System.out.println(matcher.group(1));
    System.out.println(matcher.group(2));
}
pattern = Pattern.compile("(\\S+?) =  '(.*?)'");
matcher = pattern.matcher(query);

while (matcher.find()) {
    m.put(matcher.group(1), matcher.group(2));
    System.out.println(matcher.group(1));
    System.out.println(matcher.group(2));
}

//set vars

String setVar(String str, String var, String val) {
    String out = "";
    Pattern pattern = Pattern.compile(var + " =  '(.*?)'");
    Matcher matcher = pattern.matcher(str);

    if (matcher.find()) {
        out = str.substring(0, matcher.start(1)) + val + query.substring(matcher.end(1));
    }
    while (matcher.find()) {
        m.put(matcher.group(1), matcher.group(2));
        System.out.println(matcher.group(1));
        System.out.println(matcher.group(2));
    }
    pattern = Pattern.compile("(\\S+?) =  '(.*?)'");
    matcher = pattern.matcher(query);

    while (matcher.find()) {
        m.put(matcher.group(1), matcher.group(2));
        System.out.println(matcher.group(1));
        System.out.println(matcher.group(2));
    }
}