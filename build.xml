<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="compile-jar" name="mu" basedir=".">
    <!--this file was created by Eclipse Runnable JAR Export Wizard-->
    <!--ANT 1.7 is required                                        -->
    <!--define folder properties-->
    <property name="src" value="src"/>
    <property name="build" value="target/build"/>
    <property name="dist" value="target/dist"/>
    <property name="jar.name" value="mu1.003"/>
    <property name="jar.lib" value="lib"/>
<!--    <property environment="ANT_OPTS" value="-Dfile.encoding=UTF-8"/>-->

    <path id="master-classpath">
        <fileset dir="${jar.lib}">
            <include name="*.jar"/>
        </fileset>
    </path>

    <target name="compile-jar"
            description="compile the source code"
    depends="compile-sources">
        <tstamp/>
        <jar destfile="${dist}/${jar.name}.jar" basedir="${build}">
            <manifest>
                <attribute name="Main-Class" value="ru.haval.application.Main"/>
                <attribute name="Class-Path" value=". ${jar.name}_lib/mysql-connector-java-5.1.44-bin.jar ${jar.name}_lib/platform.jar ${jar.name}_lib/jeuclid-core-3.1.3.jar ${jar.name}_lib/org-apache-commons-logging.jar ${jar.name}_lib/jfoenix-9.0.5.jar ${jar.name}_lib/barbecue-1.5-beta1.jar ${jar.name}_lib/barcode4j-2.1.jar ${jar.name}_lib/batik-anim-1.9.jar ${jar.name}_lib/batik-awt-util-1.9.jar ${jar.name}_lib/batik-bridge-1.9.jar ${jar.name}_lib/batik-constants-1.9.jar ${jar.name}_lib/batik-css-1.9.jar ${jar.name}_lib/batik-dom-1.9.jar ${jar.name}_lib/batik-gvt-1.9.jar ${jar.name}_lib/batik-i18n-1.9.jar ${jar.name}_lib/batik-svg-dom-1.9.jar ${jar.name}_lib/batik-svggen-1.9.jar ${jar.name}_lib/batik-util-1.9.jar ${jar.name}_lib/bsh-2.0b6.jar ${jar.name}_lib/castor-core-1.3.3.jar ${jar.name}_lib/castor-xml-1.3.3.jar ${jar.name}_lib/commons-beanutils-1.9.3.jar ${jar.name}_lib/commons-cli.jar ${jar.name}_lib/commons-codec-1.5.jar ${jar.name}_lib/commons-collections-3.2.2.jar ${jar.name}_lib/commons-collections4-4.1.jar ${jar.name}_lib/commons-digester-2.1.jar ${jar.name}_lib/commons-lang-2.6.jar ${jar.name}_lib/commons-logging-1.1.1.jar ${jar.name}_lib/commons-pool2-2.4.2.jar ${jar.name}_lib/controlsfx-8.0.1.jar ${jar.name}_lib/controlsfx-8.40.11.jar ${jar.name}_lib/controlsfx-9.0.0.jar ${jar.name}_lib/core-3.2.1.jar ${jar.name}_lib/easyant-core.jar ${jar.name}_lib/groovy-all-2.4.5.jar ${jar.name}_lib/httpclient-4.3.6.jar ${jar.name}_lib/httpcore-4.3.3.jar ${jar.name}_lib/jasperreports-6.6.0.jar ${jar.name}_lib/jasperreports-metadata-6.6.0.jar ${jar.name}_lib/jaxen-1.1.1.jar ${jar.name}_lib/jcommander-1.27.jar ${jar.name}_lib/jcommon-1.0.23.jar ${jar.name}_lib/jfreechart-1.0.19.jar ${jar.name}_lib/log4j-1.2.17.jar ${jar.name}_lib/log4j-api-2.8.2.jar ${jar.name}_lib/log4j-core-2.8.2.jar ${jar.name}_lib/log4j-jcl-2.8.2.jar ${jar.name}_lib/net.tascalate.javaflow.api-2.2.1.jar ${jar.name}_lib/net.tascalate.javaflow.providers.asm5-2.2.1.jar ${jar.name}_lib/net.tascalate.javaflow.tools.ant-2.2.1.jar ${jar.name}_lib/net.tascalate.javaflow.tools.jar-2.2.1.jar ${jar.name}_lib/olap4j-0.9.7.309-JS-3.jar ${jar.name}_lib/persistence-api-1.0.jar ${jar.name}_lib/poi-3.15.jar ${jar.name}_lib/poi-ooxml-3.15.jar ${jar.name}_lib/servlet-api-2.4.jar ${jar.name}_lib/spring-beans-3.2.18.RELEASE.jar ${jar.name}_lib/spring-core-3.2.18.RELEASE.jar ${jar.name}_lib/testng-6.8.1.jar ${jar.name}_lib/velocity-1.7.jar ${jar.name}_lib/xml-apis-ext-1.3.04.jar ${jar.name}_lib/xmpcore-5.1.1.jar ${jar.name}_lib/ecj-4.4.2.jar ${jar.name}_lib/hibernate-core-3.3.2.GA.jar"/>
            </manifest>
            <fileset dir="${build}"/>
            <fileset dir="src/main/resources"/>
        </jar>
        <delete dir="${dist}/${jar.name}_lib"/>
        <mkdir dir="${dist}/${jar.name}_lib"/>
        <copy todir="${dist}/${jar.name}_lib">
            <fileset dir="${jar.lib}">
                <include name="*.jar"/>
            </fileset>
        </copy>
    </target>

    <target name="compile-sources">
        <mkdir dir="${build}"/>
        <javac srcdir="${src}" destdir="${build}" classpath="${jar.lib}" includeantruntime="false">
            <src path="lib"/>
            <classpath refid="master-classpath"/>
            <compilerarg value="-encoding"/>
            <compilerarg value="UTF-8"/>
        </javac>
    </target>
    <target name="clean">
        <delete dir="target"/>
    </target>

    <target name="run" depends="compile-jar">
        <java jar="target/dist/mu1.003.jar" fork="true"/>
    </target>
    <target name="run3">
        <java jar="target/dist/mu1.003.jar" fork="true">
            <jvmarg value="-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005"/>
        </java>
    </target>
    <target name="run2" depends="compile-sources">
        <copy todir="${build}"><fileset dir="src/main/resources" includes="**"/></copy>

        <java dir="${build}" classname="ru.haval.application.Main" fork="true">
            <jvmarg value="-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5900"/>
            <classpath refid="master-classpath"/>
<!--            <classpath refid="master-classpath2"/>-->
            <classpath path="${build}"/>
        </java>
    </target>

</project>
